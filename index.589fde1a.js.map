{"mappings":"AAaO,SAASA,EAAgBC,GAC5B,OAAOC,MAAM,wDAAuCD,mFAAyBE,MAAKC,IAC9E,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,YAAcH,EAASI,QAEpD,OAAOJ,EAASK,MAAM,G,CCZ9B,MAAMC,EAAWC,SAASC,cAAc,iBAClCC,EAAeF,SAASC,cAAc,aACtCE,EAAWH,SAASC,cAAc,WAExCG,OAAOC,iBAAiB,QAExB,WDRWd,MAAM,sHAA0CC,MAAKc,IACxD,IAAIA,EAAIZ,GACJ,MAAM,IAAIC,MAAMW,EAAIV,YAAcU,EAAIT,QAG1C,OAAOS,EAAIR,MAAM,ICKhBN,MAAKe,IACF,MAAMC,EAA0BD,EAWvCE,KAAI,EAACnB,GAAEA,EAAEoB,KAAEA,KAEG,kBAAkBpB,aAAGoB,eAE/BC,KAAK,KAGd,SAAmBC,EAAKJ,GAGpBI,EAAIC,UAAYL,C,CApBRM,CAAUf,EAAUS,GACpB,IAAIO,WAAW,CACXC,OAAQjB,GACV,IAELkB,OAAMC,GAASC,QAAQC,IAAIF,EAAMG,U,IAmB1CtB,EAASM,iBAAiB,UAE1B,SAAkBiB,GACd,MAAMhC,EAAKgC,EAAMC,OAAOC,MACxBrB,EAASsB,UAAUC,IAAI,WAEvBrC,EAAgBC,GACXE,MAAKC,IACF,MACMkC,EAYlB,SAAyBC,GACrB,MAAO,gEAGGA,EAAQC,aAAaD,EAAQE,OAAO,GAAGpB,4E,EAGhCoB,OAAQ,GAAApB,sCACHkB,EAAQE,OAAO,GAAGC,4FAGpCH,EAAQE,OAAO,GAAGE,2C,CAvBIC,CADFxC,EAAS,IAEzBS,EAAaW,UAAYc,EACzBxB,EAASsB,UAAUS,OAAO,UAAU,IAGvCjB,OAAM,KACHkB,SAASC,OAAOC,QACZ,sDACH,G","sources":["src/api.js","src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY = 'live_xIh8Fsr0YeNU4xTYZnSaCZkysghEe7wwGK0bnbOmmKcQPEbgJ2DIXRGCAg1OX558';\n\nexport function fetchBreeds() {\n    return fetch(`${BASE_URL}/breeds/?api_key=${API_KEY}`).then(res => {\n        if(!res.ok){\n            throw new Error(res.statusText || res.status)\n        }\n        \n        return res.json()\n        \n    })\n}\nexport function fetchCatByBreed(id) {\n    return fetch(`${BASE_URL}/images/search?breed_ids=${id}&api_key=${API_KEY}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText || response.status);\n        }\n        return response.json();\n    });\n}\n","\nimport { fetchBreeds } from './api.js';\nimport { fetchCatByBreed } from './api.js';\n\n\n\nconst selectEl = document.querySelector('.breed-select');\nconst catContainer = document.querySelector('.cat-info');\nconst loaderEl = document.querySelector('.loader');\n\nwindow.addEventListener('load', onLoad);\n\nfunction onLoad() {\n    fetchBreeds('cats')\n        .then(resp => {\n            const markup = makeSelectMarkup(resp);\n            addMarkup(selectEl, markup);\n            new SlimSelect({\n                select: selectEl,\n            });\n        })\n        .catch(error => console.log(error.message));\n}\n\nfunction makeSelectMarkup(items) {\n    return items\n    .map(({ id, name }) => {\n\n            return `<option value=\"${id}\">🐈‍⬛ - ${name}</option>`;\n        })\n        .join('');\n}\n\nfunction addMarkup(ref, markup) {\n\n\n    ref.innerHTML = markup;\n\n}\n\nselectEl.addEventListener('change', onChange);\n\nfunction onChange(event) {\n    const id = event.target.value;\n    loaderEl.classList.add('display');\n\n    fetchCatByBreed(id)\n        .then(response => {\n            const catInfo = response[0];\n            const catMarkup = createCatMarkup(catInfo);\n            catContainer.innerHTML = catMarkup;\n            loaderEl.classList.remove('display');\n\n        })\n        .catch(() => {\n            Notiflix.Notify.failure(\n                'Oops! Something went wrong! Try reloading the page!'\n            );\n        });\n}\n\nfunction createCatMarkup(catInfo) {\n    return `\n<div class=\"js-part\">\n<div class=\"img-part\">\n  <img src=\"${catInfo.url}\" alt=\"${catInfo.breeds[0].name}\" class=\"cat-img\"/>\n</div>\n  <div class=\"info-part\">\n    <h2>🐈‍⬛ ${catInfo.breeds[0].name}</h2>\n    <p class=\"cat-text\">${catInfo.breeds[0].description}</p>\n    <p>\n      <span class=\"temperament\">🐈 Temperament: </span>\n      ${catInfo.breeds[0].temperament}\n    </p>\n  </div>\n</div>\n`;\n}\n"],"names":["$2107b7db86dec8d6$export$57b7d3a597416aa2","id","fetch","then","response","ok","Error","statusText","status","json","$1f0dc3b9307be026$var$selectEl","document","querySelector","$1f0dc3b9307be026$var$catContainer","$1f0dc3b9307be026$var$loaderEl","window","addEventListener","res","resp","markup","map","name","join","ref","innerHTML","$1f0dc3b9307be026$var$addMarkup","SlimSelect","select","catch","error","console","log","message","event","target","value","classList","add","catMarkup","catInfo","url","breeds","description","temperament","$1f0dc3b9307be026$var$createCatMarkup","remove","Notiflix","Notify","failure"],"version":3,"file":"index.589fde1a.js.map"}