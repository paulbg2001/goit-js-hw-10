{"mappings":"YAAA,IAAMA,EAAW,+BACXC,EAAU,wEAYT,SAASC,EAAgBC,GAC5B,OAAOC,MAAM,GAAuCC,OAApCL,EAAS,6BAAyCK,OAAdF,EAAG,aAAmBE,OAARJ,IAAWK,MAAK,SAAAC,GAC9E,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,YAAcH,EAASI,QAEpD,OAAOJ,EAASK,M,ICZxB,IAAMC,EAAWC,SAASC,cAAc,iBAClCC,EAAeF,SAASC,cAAc,aACtCE,EAAWH,SAASC,cAAc,WAExCG,OAAOC,iBAAiB,QAExB,WDRWf,MAAM,GAA+BC,OAA5BL,EAAS,qBAA2BK,OAARJ,IAAWK,MAAK,SAAAc,GACxD,IAAIA,EAAIZ,GACJ,MAAM,IAAIC,MAAMW,EAAIV,YAAcU,EAAIT,QAG1C,OAAOS,EAAIR,M,ICKVN,MAAK,SAAAe,GACF,IAAMC,EAA0BD,EAWvCE,KAAI,SAAAC,G,IAAGrB,EAAEqB,EAAFrB,GAAIsB,EAAID,EAAJC,KAEJ,MAAO,kBAA+BpB,OAAbF,EAAG,aAAsBE,OAALoB,EAAK,Y,IAErDC,KAAK,KAGd,SAAmBC,EAAKL,GAGpBK,EAAIC,UAAYN,C,CApBRO,CAAUhB,EAAUS,GACpB,IAAIQ,WAAW,CACXC,OAAQlB,G,IAGfmB,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,EAAMG,Q,OAmB1CvB,EAASM,iBAAiB,UAE1B,SAAkBkB,GACd,IAAMlC,EAAKkC,EAAMC,OAAOC,MACxBtB,EAASuB,UAAUC,IAAI,WAEvBvC,EAAgBC,GACXG,MAAK,SAAAC,GACF,IACMmC,EAYlB,SAAyBC,GACrB,MAAO,gEAGwBtC,OAArBsC,EAAQC,IAAI,WAGZvC,OAHqBsC,EAAQE,OAAO,GAAGpB,KAAK,yEAIzBpB,OADZsC,EAAQE,OAAO,GAAGpB,KAAK,mCAIpCpB,OAHkBsC,EAAQE,OAAO,GAAGC,YAAY,kFAGlBzC,OAA9BsC,EAAQE,OAAO,GAAGE,YAAY,iC,CAvBRC,CADFzC,EAAS,IAEzBS,EAAaY,UAAYc,EACzBzB,EAASuB,UAAUS,OAAO,U,IAG7BjB,OAAM,WACHkB,SAASC,OAAOC,QACZ,sD","sources":["src/api.js","src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY = 'live_xIh8Fsr0YeNU4xTYZnSaCZkysghEe7wwGK0bnbOmmKcQPEbgJ2DIXRGCAg1OX558';\n\nexport function fetchBreeds() {\n    return fetch(`${BASE_URL}/breeds/?api_key=${API_KEY}`).then(res => {\n        if(!res.ok){\n            throw new Error(res.statusText || res.status)\n        }\n        \n        return res.json()\n        \n    })\n}\nexport function fetchCatByBreed(id) {\n    return fetch(`${BASE_URL}/images/search?breed_ids=${id}&api_key=${API_KEY}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText || response.status);\n        }\n        return response.json();\n    });\n}\n","\nimport { fetchBreeds } from './api.js';\nimport { fetchCatByBreed } from './api.js';\n\n\n\nconst selectEl = document.querySelector('.breed-select');\nconst catContainer = document.querySelector('.cat-info');\nconst loaderEl = document.querySelector('.loader');\n\nwindow.addEventListener('load', onLoad);\n\nfunction onLoad() {\n    fetchBreeds('cats')\n        .then(resp => {\n            const markup = makeSelectMarkup(resp);\n            addMarkup(selectEl, markup);\n            new SlimSelect({\n                select: selectEl,\n            });\n        })\n        .catch(error => console.log(error.message));\n}\n\nfunction makeSelectMarkup(items) {\n    return items\n    .map(({ id, name }) => {\n\n            return `<option value=\"${id}\">🐈‍⬛ - ${name}</option>`;\n        })\n        .join('');\n}\n\nfunction addMarkup(ref, markup) {\n\n\n    ref.innerHTML = markup;\n\n}\n\nselectEl.addEventListener('change', onChange);\n\nfunction onChange(event) {\n    const id = event.target.value;\n    loaderEl.classList.add('display');\n\n    fetchCatByBreed(id)\n        .then(response => {\n            const catInfo = response[0];\n            const catMarkup = createCatMarkup(catInfo);\n            catContainer.innerHTML = catMarkup;\n            loaderEl.classList.remove('display');\n\n        })\n        .catch(() => {\n            Notiflix.Notify.failure(\n                'Oops! Something went wrong! Try reloading the page!'\n            );\n        });\n}\n\nfunction createCatMarkup(catInfo) {\n    return `\n<div class=\"js-part\">\n<div class=\"img-part\">\n  <img src=\"${catInfo.url}\" alt=\"${catInfo.breeds[0].name}\" class=\"cat-img\"/>\n</div>\n  <div class=\"info-part\">\n    <h2>🐈‍⬛ ${catInfo.breeds[0].name}</h2>\n    <p class=\"cat-text\">${catInfo.breeds[0].description}</p>\n    <p>\n      <span class=\"temperament\">🐈 Temperament: </span>\n      ${catInfo.breeds[0].temperament}\n    </p>\n  </div>\n</div>\n`;\n}\n"],"names":["$2f5c62d89cd5eff1$var$BASE_URL","$2f5c62d89cd5eff1$var$API_KEY","$2f5c62d89cd5eff1$export$57b7d3a597416aa2","id","fetch","concat","then","response","ok","Error","statusText","status","json","$b8f9b7833fa37166$var$selectEl","document","querySelector","$b8f9b7833fa37166$var$catContainer","$b8f9b7833fa37166$var$loaderEl","window","addEventListener","res","resp","markup","map","param","name","join","ref","innerHTML","$b8f9b7833fa37166$var$addMarkup","SlimSelect","select","catch","error","console","log","message","event","target","value","classList","add","catMarkup","catInfo","url","breeds","description","temperament","$b8f9b7833fa37166$var$createCatMarkup","remove","Notiflix","Notify","failure"],"version":3,"file":"index.4a615acb.js.map"}